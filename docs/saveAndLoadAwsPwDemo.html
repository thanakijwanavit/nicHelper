---

title: Save and load aws credentials


keywords: fastai
sidebar: home_sidebar



nb_path: "examples/saveAndLoadAwsPwDemo.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: examples/saveAndLoadAwsPwDemo.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://colab.research.google.com/github/thanakijwanavit/nicHelper/blob/master/saveAndLoadAwsPwDemo.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="install-required-libraries">install required libraries<a class="anchor-link" href="#install-required-libraries"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install -q --upgrade aws-sam-cli <span class="nv">nicHelper</span><span class="o">==</span><span class="m">0</span>.0.74 pycryptodome beartype
<span class="o">!</span>apt install -qq awscli
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Save-Key">Save Key<a class="anchor-link" href="#Save-Key"> </a></h1><p>Only run this once, remember your password
can comment it out after the first run</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nicHelper.colab</span> <span class="kn">import</span> <span class="n">saveAwsPw</span>
<span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>

<span class="n">awskey</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">'enter your aws key'</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">awssecret</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">'enter your aws Secret'</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">'set your password'</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">path</span> <span class="o">=</span> <span class="s1">'/content/drive/MyDrive/.test'</span>
<span class="n">saveAwsPw</span><span class="p">(</span><span class="n">awskey</span><span class="o">=</span><span class="n">awskey</span><span class="p">,</span> <span class="n">awssecret</span><span class="o">=</span><span class="n">awssecret</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Set-up-aws-with-the-saved-key">Set up aws with the saved key<a class="anchor-link" href="#Set-up-aws-with-the-saved-key"> </a></h1><p>must use the password you set earlier</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nicHelper.colab</span> <span class="kn">import</span> <span class="n">autoSetupAws</span>
<span class="n">path</span> <span class="o">=</span> <span class="s1">'/content/drive/MyDrive/.test'</span>

<span class="n">autoSetupAws</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
             <span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">'enter your password'</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
             <span class="n">region</span><span class="o">=</span><span class="s1">'ap-southeast-1'</span> <span class="p">)</span>
<span class="c1">## dont worry this is not printing the full key/password</span>
<span class="c1">### note this this function will only work in colab</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="for-non-colab-folks">for non-colab folks<a class="anchor-link" href="#for-non-colab-folks"> </a></h2><p>or for more customizability</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nicHelper.colab</span> <span class="kn">import</span> <span class="n">loadAwsPw</span><span class="p">,</span> <span class="n">setUpAws</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">system</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">'enter our password'</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
<span class="n">path</span> <span class="o">=</span> <span class="s1">'/content/drive/MyDrive/.test'</span>
<span class="n">region</span> <span class="o">=</span> <span class="s1">'ap-southeast-1'</span>

<span class="n">key</span><span class="p">,</span><span class="n">secret</span> <span class="o">=</span> <span class="n">loadAwsPw</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">)</span>
<span class="n">setupStrings</span> <span class="o">=</span> <span class="n">setUpAws</span><span class="p">(</span><span class="n">awsKey</span><span class="o">=</span><span class="n">key</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="n">awsSecret</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="n">region</span> <span class="o">=</span> <span class="n">region</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setupStrings</span><span class="p">)</span> <span class="c1">### remember to comment this out</span>
<span class="k">for</span> <span class="n">setupString</span> <span class="ow">in</span> <span class="n">setupStrings</span><span class="p">:</span>
  <span class="n">system</span><span class="p">(</span><span class="n">setupString</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>


